-- MySQL Script generated by MySQL Workbench
-- Sun Nov  7 20:16:31 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`adress`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`adress` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `street` VARCHAR(45) NOT NULL,
  `district` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `mydb`.`cart`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`cart` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `customer_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_cart_customer1`
    FOREIGN KEY (`customer_id`)
    REFERENCES `mydb`.`customer` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

CREATE INDEX `fk_cart_customer1_idx` ON `mydb`.`cart` (`customer_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`cart_has_clothe`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`cart_has_clothe` (
  `cart_id` INT NOT NULL,
  `clothe_id` INT NOT NULL,
  `amount_of_clothe` INT NOT NULL,
  PRIMARY KEY (`cart_id`, `clothe_id`),
  CONSTRAINT `fk_cart_has_clothe_cart1`
    FOREIGN KEY (`cart_id`)
    REFERENCES `mydb`.`cart` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_cart_has_clothe_clothe1`
    FOREIGN KEY (`clothe_id`)
    REFERENCES `mydb`.`clothe` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

CREATE INDEX `fk_cart_has_clothe_clothe1_idx` ON `mydb`.`cart_has_clothe` (`clothe_id` ASC) VISIBLE;

CREATE INDEX `fk_cart_has_clothe_cart1_idx` ON `mydb`.`cart_has_clothe` (`cart_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`clothe`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`clothe` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(255) NOT NULL,
  `description` VARCHAR(255) NOT NULL,
  `price` INT NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `mydb`.`clothe_photo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`clothe_photo` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `url` VARCHAR(255) NOT NULL,
  `product_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_product_photo_product1`
    FOREIGN KEY (`product_id`)
    REFERENCES `mydb`.`clothe` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

CREATE INDEX `fk_product_photo_product1_idx` ON `mydb`.`clothe_photo` (`product_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`customer`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`customer` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(255) NOT NULL,
  `phone` VARCHAR(45) NOT NULL,
  `email` VARCHAR(255) NOT NULL,
  `shop_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_customer_shop1`
    FOREIGN KEY (`shop_id`)
    REFERENCES `mydb`.`shop` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

CREATE INDEX `fk_customer_shop1_idx` ON `mydb`.`customer` (`shop_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`shop`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`shop` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `customer_count` INT NOT NULL,
  `adress_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_shop_adress1`
    FOREIGN KEY (`adress_id`)
    REFERENCES `mydb`.`adress` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

CREATE INDEX `fk_shop_adress1_idx` ON `mydb`.`shop` (`adress_id` ASC) VISIBLE;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;





insert into adress(street, district) values ('Geofizykiv', 'Lviv district');
insert into adress(street, district) values ('Geofizykiv 2', 'Kyiv district');
insert into adress(street, district) values ('Geofizykiv 3', 'Ivano Frankivsk district');
insert into adress(street, district) values ('Geofizykiv 4', 'Chernivtsi district');
insert into adress(street, district) values ('Geofizykiv 5', 'Donetsk district');
insert into adress(street, district) values ('Geofizykiv 6', 'Odesa district');
insert into adress(street, district) values ('Geofizykiv 7', 'Lutsk district');
insert into adress(street, district) values ('Geofizykiv 8', 'Stryi district');
insert into adress(street, district) values ('Geofizykiv 9', 'Mykolaiv district');
insert into adress(street, district) values ('Geofizykiv 10', 'Zhytomyr district');


insert into shop(customer_count, adress_id) values (3033, 1);
insert into shop(customer_count, adress_id) values (304, 2);
insert into shop(customer_count, adress_id) values (13, 3);
insert into shop(customer_count, adress_id) values (28, 4);
insert into shop(customer_count, adress_id) values (133, 5);
insert into shop(customer_count, adress_id) values (233, 6);
insert into shop(customer_count, adress_id) values (3, 7);
insert into shop(customer_count, adress_id) values (54, 8);
insert into shop(customer_count, adress_id) values (98, 9);
insert into shop(customer_count, adress_id) values (200, 10);

insert into customer(name, phone, email, shop_id) values ('Nazar', '380976595576', 'nazar.ua87@gmail.com', 1);
insert into customer(name, phone, email, shop_id) values ('Ivan', '38097', 'example@gmail.com', 2);
insert into customer(name, phone, email, shop_id) values ('Sofia', '38099557', 'nybikja@gmail.com', 3);
insert into customer(name, phone, email, shop_id) values ('Michael', '3809795576', 'mail7@gmail.com', 4);
insert into customer(name, phone, email, shop_id) values ('Markian', '386595576', 'nazar@gmail.com', 5);
insert into customer(name, phone, email, shop_id) values ('Victor', '3895576', 'gmail@mail.com', 6);
insert into customer(name, phone, email, shop_id) values ('Vlad', '38576', 'nazar87@gmail.com', 7);
insert into customer(name, phone, email, shop_id) values ('Ostap', '38005576', 'nazar.ua@gmail.com', 8);
insert into customer(name, phone, email, shop_id) values ('Roman', '595576', 'ua87@gmail.com', 9);
insert into customer(name, phone, email, shop_id) values ('Ilona', '3806', 'nazar.ua87@com', 10);


insert into cart(customer_id) values (1);
insert into cart(customer_id) values (2);
insert into cart(customer_id) values (3);
insert into cart(customer_id) values (4);
insert into cart(customer_id) values (5);
insert into cart(customer_id) values (6);
insert into cart(customer_id) values (7);
insert into cart(customer_id) values (8);
insert into cart(customer_id) values (9);
insert into cart(customer_id) values (10);

insert into clothe(name, description, price) 
values ('adidas yeezy 350', 'shoes made by YE', 440);
insert into clothe(name, description, price) 
values ('adidas yeezy', 'shoes made by YE', 10);
insert into clothe(name, description, price) 
values ('adidas yeezy 700', 'shoes made by YE', 200);
insert into clothe(name, description, price) 
values ('adidas yeezy 750', 'shoes made by YE', 320);
insert into clothe(name, description, price) 
values ('adidas yeezy 350 white', 'shoes made by YE', 450);
insert into clothe(name, description, price) 
values ('adidas yeezy 350 cream', 'shoes made by YE', 500);
insert into clothe(name, description, price) 
values ('adidas yeezy green', 'shoes made by YE', 3200);
insert into clothe(name, description, price) 
values ('adidas yeezy 700 black', 'shoes made by YE', 40400);
insert into clothe(name, description, price) 
values ('adidas', 'shoes made by YE', 100);
insert into clothe(name, description, price) 
values ('yeezy', 'shoes made by YE', 50);

insert into clothe_photo(url, product_id) values ('photo.jpg', 1);
insert into clothe_photo(url, product_id) values ('photo.jpg', 2);
insert into clothe_photo(url, product_id) values ('photo.jpg', 3);
insert into clothe_photo(url, product_id) values ('photo.jpg', 4);
insert into clothe_photo(url, product_id) values ('photo.jpg', 5);
insert into clothe_photo(url, product_id) values ('photo.jpg', 6);
insert into clothe_photo(url, product_id) values ('photo.jpg', 7);
insert into clothe_photo(url, product_id) values ('photo.jpg', 8);
insert into clothe_photo(url, product_id) values ('photo.jpg', 9);
insert into clothe_photo(url, product_id) values ('photo.jpg', 10);


insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (1, 1, 35);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (2,2, 1);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (3, 3, 45);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (4, 4, 125);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (5, 5, 32);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (6, 6, 11);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (7, 7, 5);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (8, 8, 122);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (9, 9, 48);
insert into cart_has_clothe(cart_id, clothe_id, amount_of_clothe) values (10, 10, 11);




select distinct * from adress, shop, customer, cart, clothe, clothe_photo;